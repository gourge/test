秒杀令牌原理
1.秒杀接口需要依靠令牌才能进入
2.秒杀令牌由秒杀活动模块负责生成
3.秒杀活动模块对秒杀令牌的生成全权处理，逻辑收口
4.秒杀下单前需要先获得秒杀令牌

秒杀大闸原理（解决库存售罄后仍能获得令牌的问题）
1.依靠秒杀令牌的授权原理定制化发牌逻辑，做到大闸功能
2.根据秒杀商品初始库存颁发对应数量的令牌，控制大闸流量（实际中令牌数会比库存稍多一点）
3。用户风控策略校验前置到秒杀令牌发放
4.库存售罄判断前置到秒删令牌发放

队列泄洪原理（解决库存多时的令牌数量的限制能力不足的问题）
1.排队有时候比并发更高效（没有了对资源的加锁，和锁的竞争）
2.依靠排队去限制并发流量
3.依靠排队和下游拥塞窗口程度调整队列释放流量大小
队列的选择方案：
1）对于本地：将队列维护在本地内存中（性能高，但是每台服务器都得有队列，也可能每台服务器中的队列负载不均衡，在企业级开发中推荐使用）
可以使用ExecutorService的线程池
Future<Object> future = executorService.submit(new Callable<Object>(){
  @override
  public Object call() throws Exception {
    //写业务逻辑
  }
});

2）对于分布式，将队列设置到外部的redis内（存在网络资源传输的消耗）

3）最佳企业级方案
使用外部的集中式队列，当队列性能产生了问题（如不可用，或请求时间超过阈值）则降级到本地内存队列
